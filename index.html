<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brief-Generator</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .panel {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        h1 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 24px;
        }

        h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
            font-size: 14px;
        }

        input[type="text"],
        input[type="date"],
        textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            font-family: Arial, sans-serif;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        input[type="date"]:focus,
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            min-height: 150px;
            resize: vertical;
        }

        .recipient-fields input {
            margin-bottom: 10px;
        }

        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
            margin-right: 10px;
        }

        button:hover {
            background: #5568d3;
        }

        .preview-panel {
            position: sticky;
            top: 20px;
        }

        #preview {
            background: white;
            padding: 0;
            border: 1px solid #ddd;
            min-height: 500px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .a4-page {
            width: 210mm;
            height: 297mm;
            background: white;
            position: relative;
            margin: 0 auto;
            transform: scale(0.7);
            transform-origin: top center;
        }

        .sender-line {
            position: absolute;
            top: 45mm;
            left: 25mm;
            font-size: 7pt;
            width: 85mm;
            color: #555;
            font-family: Arial, sans-serif;
        }

        .recipient {
            position: absolute;
            top: 55mm;
            left: 25mm;
            width: 85mm;
            font-size: 11pt;
            line-height: 1.6;
            font-family: Arial, sans-serif;
        }

        .recipient-name {
            font-weight: bold;
        }

        .content {
            position: absolute;
            top: 105mm;
            left: 25mm;
            right: 20mm;
            width: 165mm;
            font-family: Arial, sans-serif;
            font-size: 11pt;
        }

        .date {
            text-align: right;
            margin-bottom: 20px;
        }

        .subject {
            font-weight: bold;
            margin: 20px 0;
        }

        .salutation {
            margin: 20px 0 15px 0;
        }

        .body-text {
            text-align: justify;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .closing {
            margin-top: 30px;
            margin-bottom: 60px;
        }

        .signature {
            margin-top: 10px;
        }

        .info-box {
            background: #f0f4ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            font-size: 13px;
        }

        @media print {
            body {
                background: white;
            }
            .panel:first-child,
            button {
                display: none;
            }
            .container {
                grid-template-columns: 1fr;
            }
            .a4-page {
                transform: scale(1);
                box-shadow: none;
                border: none;
            }
        }

        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr;
            }
            .preview-panel {
                position: relative;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Eingabeformular -->
        <div class="panel">
            <h1>üìù Brief-Generator</h1>
            
            <div class="info-box">
                ‚ú® Ihre Adresse bleibt fest. √Ñndern Sie nur den Empf√§nger und Inhalt. Das Datum wird automatisch auf heute gesetzt.
            </div>

            <div class="form-group">
                <label>üìÖ Datum (automatisch auf heute)</label>
                <input type="date" id="dateInput">
            </div>

            <h2>Empf√§nger</h2>
            <div class="recipient-fields">
                <div class="form-group">
                    <label>Komplette Empf√§ngeradresse (jede Zeile = neue Zeile)</label>
                    <textarea id="recipientAddress" rows="6" placeholder="An das
Amtsgericht Augsburg
‚Äì Beratungshilfestelle ‚Äì
Frohsinnstra√üe 2
86150 Augsburg"></textarea>
                </div>
            </div>

            <h2>Brief-Inhalt</h2>
            <div class="form-group">
                <label>Betreff</label>
                <input type="text" id="subject" placeholder="Betreff des Briefes">
            </div>

            <div class="form-group">
                <label>Brief-Text (Abs√§tze mit Leerzeile trennen)</label>
                <textarea id="bodyText" placeholder="Schreiben Sie hier Ihren Brief-Text...

Trennen Sie Abs√§tze mit einer Leerzeile.

Mit freundlichen Gr√º√üen"></textarea>
            </div>

            <button onclick="updatePreview()">üîÑ Vorschau aktualisieren</button>
            <button onclick="window.print()">üñ®Ô∏è Als PDF drucken</button>
        </div>

        <!-- Vorschau -->
        <div class="panel preview-panel">
            <h1>Vorschau</h1>
            <div id="preview">
                <div class="a4-page">
                    <div class="sender-line">
                        Nejm Eddine Ben Zaida ¬∑ Linke Brandstra√üe 48 ¬∑ 86167 Augsburg
                    </div>
                    
                    <div class="recipient">
                        <div class="recipient-name" id="prev-line1">An das</div>
                        <div class="recipient-name" id="prev-line2">Amtsgericht Augsburg</div>
                        <div class="recipient-name" id="prev-line3">‚Äì Beratungshilfestelle ‚Äì</div>
                        <div id="prev-street">Frohsinnstra√üe 2</div>
                        <div id="prev-city">86150 Augsburg</div>
                    </div>
                    
                    <div class="content">
                        <div class="date" id="prev-date">Augsburg, den 09.11.2025</div>
                        
                        <div class="subject" id="prev-subject">
                            Betreff: Nachfrage zum Beratungshilfeantrag
                        </div>
                        
                        <div class="salutation">Sehr geehrte Damen und Herren,</div>
                        
                        <div id="prev-body">
                            <div class="body-text">
                                Hier kommt Ihr Brief-Text...
                            </div>
                        </div>
                        
                        <div class="signature">
                            <br><br>
                            Nejm Eddine Ben Zaida<br>
                            (Geburtsdatum: 24.02.1994)
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Datum automatisch auf heute setzen
        function setTodayDate() {
            const today = new Date();
            const yyyy = today.getFullYear();
            const mm = String(today.getMonth() + 1).padStart(2, '0');
            const dd = String(today.getDate()).padStart(2, '0');
            document.getElementById('dateInput').value = `${yyyy}-${mm}-${dd}`;
        }

        // Datum formatieren (DD.MM.YYYY)
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            const dd = String(date.getDate()).padStart(2, '0');
            const mm = String(date.getMonth() + 1).padStart(2, '0');
            const yyyy = date.getFullYear();
            return `${dd}.${mm}.${yyyy}`;
        }

        // Vorschau aktualisieren
        function updatePreview() {
            // Datum
            const dateValue = document.getElementById('dateInput').value;
            document.getElementById('prev-date').textContent = 
                `Augsburg, den ${formatDate(dateValue)}`;

            // Empf√§nger - aus einem Textfeld
            const recipientAddress = document.getElementById('recipientAddress').value;
            const lines = recipientAddress.split('\n').filter(line => line.trim());
            
            let recipientHtml = '';
            lines.forEach((line, index) => {
                // Die ersten 3 Zeilen werden fett dargestellt
                if (index < 3) {
                    recipientHtml += `<div class="recipient-name">${line}</div>`;
                } else {
                    recipientHtml += `<div>${line}</div>`;
                }
            });
            
            document.querySelector('.recipient').innerHTML = recipientHtml;

            // Betreff
            const subject = document.getElementById('subject').value || 'Betreff';
            document.getElementById('prev-subject').innerHTML = `<strong>Betreff:</strong> ${subject}`;

            // Brief-Text
            const bodyText = document.getElementById('bodyText').value;
            const paragraphs = bodyText.split('\n\n').filter(p => p.trim());
            
            let bodyHtml = '';
            paragraphs.forEach(para => {
                bodyHtml += `<div class="body-text">${para.replace(/\n/g, '<br>')}</div>`;
            });
            
            document.getElementById('prev-body').innerHTML = bodyHtml;
        }

        // Automatische Live-Aktualisierung
        document.querySelectorAll('input, textarea').forEach(element => {
            element.addEventListener('input', updatePreview);
        });

        // Beim Laden initialisieren
        window.onload = function() {
            setTodayDate();
            
            // Beispieldaten laden
            document.getElementById('recipientAddress').value = `An das
Amtsgericht Augsburg
‚Äì Beratungshilfestelle ‚Äì
Frohsinnstra√üe 2
86150 Augsburg`;
            
            document.getElementById('subject').value = 'Nachfrage zum Beratungshilfeantrag ‚Äì Nachforderung gegen Audi Planung GmbH / Az. 3 Ca 1310/24';
            document.getElementById('bodyText').value = `am 30.09.2025 habe ich beim Amtsgericht Augsburg einen Antrag auf Beratungshilfe gestellt. Der Antrag betrifft eine arbeitsrechtliche Nachforderung von rund 2.863,98 ‚Ç¨ netto gegen die Audi Planung GmbH, basierend auf dem Vergleich des Arbeitsgerichts Augsburg (Az. 3 Ca 1310/24) vom 05.06.2025.

In diesem Vergleich wurde unter Punkt 3 vereinbart, dass mir meine Verg√ºtung f√ºr den Zeitraum 21.05.2024 bis 30.09.2024 "im Nettobetrag ausbezahlt" werden soll. W√§hrend der m√ºndlichen Verhandlung am 05.06.2025 wurde vom Gericht ausdr√ºcklich klargestellt, dass dies ohne Abzug von Sozialversicherungsbeitr√§gen zu erfolgen hat. Diese m√ºndliche Klarstellung habe ich pers√∂nlich geh√∂rt, und auch mein Rechtsanwalt, Herr L√∂dler, kann dies best√§tigen. Die Klarstellung erfolgte in Anwesenheit aller Verhandlungsbeteiligten, ist jedoch nicht w√∂rtlich im Sitzungsprotokoll dokumentiert.

Mein Rechtsanwalt, Herr L√∂dler, hat die Lohnabrechnungen der Beklagten √ºberpr√ºft und festgestellt, dass dennoch Sozialversicherungsbeitr√§ge abgezogen wurden. Die von ihm durchgef√ºhrte Berechnung ergibt eine Differenz von 2.863,98 ‚Ç¨ netto (entspricht etwa 810 ‚Ç¨ pro Monat an zu Unrecht abgezogenen Sozialabgaben).

Da ich bislang keine R√ºckmeldung zu meinem Antrag auf Beratungshilfe erhalten habe, m√∂chte ich h√∂flich nachfragen, ob mein Antrag bereits bearbeitet wurde oder ob noch Unterlagen ben√∂tigt werden.

Ich w√§re Ihnen dankbar f√ºr eine kurze R√ºckmeldung, damit ich die Angelegenheit mit meinem Anwalt fortsetzen kann, sobald die Bewilligung der Beratungshilfe vorliegt.

Mit freundlichen Gr√º√üen`;
            
            updatePreview();
        };
    </script>
</body>
</html>
